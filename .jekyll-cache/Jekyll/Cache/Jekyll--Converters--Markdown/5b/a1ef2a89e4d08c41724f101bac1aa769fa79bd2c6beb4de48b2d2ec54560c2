I"­<p>XUnit Ignore test at runtime (with SpecFlow tag @IgnoreLocally)</p>

<p>Code â€“&gt;Â <a href="https://github.com/chrismckelt/XUnit.OptionallyIgnore">https://github.com/chrismckelt/XUnit.OptionallyIgnore</a></p>

<p>NuGet â€“&gt; <a href="https://www.nuget.org/packages/Xunit.SpecFlow.AssertSkip/">https://www.nuget.org/packages/Xunit.SpecFlow.AssertSkip/</a></p>

<p>As Xunit has no Assert.Ignore() using the OptionallyIgnoreTestFactAttribute attribute on a method and setting McKeltCustom.SpecflowPlugin.Settings.IgnoreLocally == true will ignore the test at runtime</p>

<p>In SpecFlow set this as a plugin and use the tag @IgnoreLocally â€“ before each test scenario is run turn on/off the setting to run this test.</p>

<p>Â </p>

<p>Â </p>

<p>Â </p>

<p>Sample usage:</p>

<p>Â </p>

<p>namespace Tester</p>

<p>{</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class Dummy

{

    public Dummy()

    {

        McKeltCustom.SpecflowPlugin.Settings.IgnoreLocally = true;

    }

}

public class TestFixture : IUseFixture&lt;Dummy&gt;

{

    \[OptionallyIgnoreTestFact\]

    public void DoesThisWork()

    {

        Assert.True(false, "This should not be run");

    }

    public void SetFixture(Dummy data)

    {

        throw new NotImplementedException();

    }

}
</code></pre></div></div>

<p>}</p>

<p>.csharpcode, .csharpcode pre<br />{<br /> font-size: small;<br /> color: black;<br /> font-family: consolas, â€œCourier Newâ€, courier, monospace;<br /> background-color: #ffffff;<br /> /*white-space: pre;*/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt<br />{<br /> background-color: #f4f4f4;<br /> width: 100%;<br /> margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }</p>

<p>Â </p>

<p>SpecFlow tag can be on a feature or a scenario</p>

<p><a href="files/image_42.png"><img src="images/image_thumb_42.png" alt="image" title="image" /></a></p>

<p>Add the following to the .config file</p>

<p>Â </p>

<p>&lt;specFlow&gt;
    <!--<unitTestProvider name="xUnit" />-->
    &lt;generator allowDebugGeneratedFiles=â€œfalseâ€ allowRowTests=â€œtrueâ€ generateAsyncTests=â€œfalseâ€ path=â€.\libâ€/&gt;
    &lt;runtime stopAtFirstError=â€œfalseâ€ missingOrPendingStepsOutcome=â€œIgnoreâ€&gt;
      &lt;!â€“<dependencies></dependencies></p>
<register name="CustomGeneratorPlugin" type="PhoenixCustom.Generator.SpecflowPlugin.CustomGeneratorPlugin, PhoenixCustom.Generator.SpecflowPlugin" as="PhoenixCustom.Generator.SpecflowPlugin.CustomGeneratorPlugin, PhoenixCustom.Generator.SpecflowPlugin" />

<register name="CustomGeneratorProvider" type="PhoenixCustom.Generator.SpecflowPlugin.CustomGeneratorProvider, PhoenixCustom.Generator.SpecflowPlugin" as="PhoenixCustom.Generator.SpecflowPlugin.CustomGeneratorProvider, PhoenixCustom.Generator.SpecflowPlugin" />

<p>&lt;/dependencies&gt;â€“&gt;
    &lt;/runtime&gt;
    &lt;trace traceSuccessfulSteps=â€œtrueâ€ traceTimings=â€œfalseâ€ minTracedDuration=â€œ0:0:0.1â€ stepDefinitionSkeletonStyle=â€œRegexAttributeâ€/&gt;
    &lt;plugins&gt;
      &lt;add name=â€œMcKeltCustomâ€ path=â€.\libâ€ type=â€œGeneratorAndRuntimeâ€/&gt;
    &lt;/plugins&gt;
    <!-- For additional details on SpecFlow configuration options see http://go.specflow.org/doc-config -->
    &lt;stepAssemblies&gt;
      <!-- This attribute is required in order to use StepArgument Transformation as described here; 
 https://github.com/marcushammarberg/SpecFlow.Assist.Dynamic/wiki/Step-argument-transformations  -->
      <!-- This attribute is required in order to use StepArgument Transformation as described here; 
 https://github.com/marcusoftnet/SpecFlow.Assist.Dynamic/wiki/Step-argument-transformations  -->
      &lt;stepAssembly assembly=â€œSpecFlow.Assist.Dynamicâ€/&gt;
    &lt;/stepAssemblies&gt;
  &lt;/specFlow&gt;</p>

<p>.csharpcode, .csharpcode pre<br />{<br /> font-size: small;<br /> color: black;<br /> font-family: consolas, â€œCourier Newâ€, courier, monospace;<br /> background-color: #ffffff;<br /> /*white-space: pre;*/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt<br />{<br /> background-color: #f4f4f4;<br /> width: 100%;<br /> margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }</p>

<p>Â </p>

<p>Finally put the all compiled assemblies into a <strong><em>lib</em></strong> folder in the root folder of your SpecFlow project</p>

<p>Â </p>

<p><a href="files/image_43.png"><img src="images/image_thumb_43.png" alt="image" title="image" /></a></p>

<p>Â </p>

<p>Tests marked with @IgnoreLocallyÂ  or OptionallyIgnoreTest will now skip the test if McKeltCustom.SpecflowPlugin.Settings.IgnoreLocally = true</p>

<p>Â </p>

<p><a href="files/image_44.png"><img src="images/image_thumb_44.png" alt="image" title="image" /></a></p>
:ET