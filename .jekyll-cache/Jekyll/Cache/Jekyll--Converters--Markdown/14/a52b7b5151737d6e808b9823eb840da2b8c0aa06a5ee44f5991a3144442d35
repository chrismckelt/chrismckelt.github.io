I"R<p> </p>

<p>This is an overview of how to build and debug a Dynamics 365 Field Services Mobile Application using <a href="https://www.resco.net/woodford-overview/">Resco’s Woodford</a> mobile framework (JavaScript library)</p>

<p><em>Please let me know if you have a better way to manage this development life cycle. Id be keen to improve the experience.</em></p>

<h1 id="what-does-the-mobile-application-look-like">What does the mobile application look like?</h1>

<p>The project solution on disk</p>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb.png" alt="image" title="image" /></a></p>

<p>This project uses TypeScript with VS Code.   Typescript helped catch lots of issues before deployment.</p>

<p><a href="https://basarat.gitbooks.io/typescript/docs/why-typescript.html">Why TypeScript?</a></p>

<h3 id="requirements-to-build-and-debug-the-solution">Requirements to build and debug the solution</h3>

<ul>
  <li>Latest Typescript</li>
  <li>Visual Studio 2015 +</li>
  <li>LINQ Pad (just to copy the local dev files to the local Window Store  Field Service App folder)</li>
  <li>Field Service – Dynamics 365 application installed</li>
</ul>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-1.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-1.png" alt="image" title="image" /></a></p>

<h2 id="how-do-i-build-the-solution">How do I build the solution?</h2>

<h4 id="step-1">Step 1</h4>

<p>After setting up the files locally  (mine are at <em>c:\dev\vForms</em> )   run the following commands in the root directory –&gt; <em>npm install<a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-2.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-2.png" alt="image" title="image" /></a></em></p>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-3.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-3.png" alt="image" title="image" /></a></p>

<p> </p>

<p>This should give you the TypeScript jQuery &amp; Sizzle files for intellisense in VS Code / Visual Studio</p>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-4.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-4.png" alt="image" title="image" /></a></p>

<h4 id="step-2">Step 2</h4>

<p>To compile the TypeScript files to JavaScript  (.ts –&gt; .js)   run the command    –&gt;  tsc –w      (-w is watch mode so any saved change to a .TS file will trigger a compile)</p>

<h4 id="step-3">Step 3</h4>

<p>Open up the file ‘vForms-directory-sync.linq’</p>

<p>Here we need to replace the highlighted yellow with your local Field Service application data package directory</p>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-5.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-5.png" alt="image" title="image" /></a></p>

<p>Run this script and it will ‘watch’ your development files and copy them to the local Field Service application folder upon change.</p>

<p>Warning:  The Field Service application may occasional lock the file.  And to refresh the view/execution of the files you need to exit the screen using them – then go back in (no <a href="https://webpack.js.org/concepts/hot-module-replacement/">Hot Module Replacement</a> here I  am afraid!)</p>

<h2 id="how-do-i-debug-the-solution">How do I debug the solution?</h2>

<p>To help with debugging I have set a global Boolean variable DEBUG_ENABLED which optionally may be triggered remotely via the  ‘msdyn_<em>showtechnicalhelp’</em>  field for a survey.</p>

<p>Three steps are required to attach &amp; debug the JavaScript/Typescript files</p>

<h4 id="step-1-1">Step 1</h4>

<p>Follow the steps to setup your IE settings outlined here</p>

<p><a href="https://www.resco.net/debugging-offline-html-solution/" title="https://www.resco.net/debugging-offline-html-solution/">https://www.resco.net/debugging-offline-html-solution/</a></p>

<h4 id="step-2-1">Step 2</h4>

<p>In your TypeScript/JavasScript file put the word ‘debugger’ to break out into a debug session</p>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-6.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-6.png" alt="image" title="image" /></a></p>

<h4 id="step-3-1">Step 3</h4>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-7.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-7.png" alt="image" title="image" /></a></p>

<p>Attach Visual Studio to the MobileCrm.exe process</p>

<p>Voila – you should be able to attach &amp; debug the running JavaScript (note may take a few goes to warm up)</p>

<p><a href="/https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//2018/12/image-8.png"><img src="https://raw.githubusercontent.com/chrismckelt/chrismckelt.github.io/master/_posts/posts/images//image_thumb-8.png" alt="image" title="image" /></a></p>
:ET